services:
  cvat_server:
    environment:
      DJANGO_SETTINGS_MODULE: cvat.settings.email_settings
      # Email configuration
      EMAIL_HOST: ${EMAIL_HOST:-localhost}
      EMAIL_PORT: ${EMAIL_PORT:-587}
      EMAIL_USE_TLS: ${EMAIL_USE_TLS:-True}
      EMAIL_USE_SSL: ${EMAIL_USE_SSL:-False}
      EMAIL_HOST_USER: ${EMAIL_HOST_USER:-}
      EMAIL_HOST_PASSWORD: ${EMAIL_HOST_PASSWORD:-}
      DEFAULT_FROM_EMAIL: ${DEFAULT_FROM_EMAIL:-noreply@cvat.ai}
      SERVER_EMAIL: ${SERVER_EMAIL:-noreply@cvat.ai}
      EMAIL_TIMEOUT: ${EMAIL_TIMEOUT:-60}
      EMAIL_BACKEND: ${EMAIL_BACKEND:-}

  cvat_worker_utils:
    environment:
      DJANGO_SETTINGS_MODULE: cvat.settings.email_settings
      # Email configuration for notifications worker
      EMAIL_HOST: ${EMAIL_HOST:-localhost}
      EMAIL_PORT: ${EMAIL_PORT:-587}
      EMAIL_USE_TLS: ${EMAIL_USE_TLS:-True}
      EMAIL_USE_SSL: ${EMAIL_USE_SSL:-False}
      EMAIL_HOST_USER: ${EMAIL_HOST_USER:-}
      EMAIL_HOST_PASSWORD: ${EMAIL_HOST_PASSWORD:-}
      DEFAULT_FROM_EMAIL: ${DEFAULT_FROM_EMAIL:-noreply@cvat.ai}
      SERVER_EMAIL: ${SERVER_EMAIL:-noreply@cvat.ai}
      EMAIL_TIMEOUT: ${EMAIL_TIMEOUT:-60}
      EMAIL_BACKEND: ${EMAIL_BACKEND:-}
